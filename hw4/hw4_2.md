# ECE374 SP23 HW4

## Contributors

Zhirong Chen (zhirong4)

Ziyuan Chen (ziyuanc3)

<br>

## Problem 2

Consider the following variants of the Towers of Hanoi. For each of variant, describe an algorithm to solve it in as few moves as possible. Prove that your algorithm is correct. Initially, all the n disks are on peg 1, and you need to move the disks to peg 2. In all the following variants, you are not allowed to put a bigger disk on top of a smaller disk.


**(a)** **Hanoi 1**: Suppose you are forbidden to move any disk directly between peg 1 and peg
2, and every move must involve (the third peg) 0. Exactly (i.e., not asymptotically)
how many moves does your algorithm make as a function of n?

**(b)** **Hanoi 2**: Suppose you are only allowed to move disks from peg 0 to peg 1, from peg 1
to peg 2, or from peg 2 to peg 0.

Provide an upper bound, as tight as possible, on the number of moves that your
algorithm uses.

(One can derive the exact upper bound by solving the recurrence, but this is too
tedious and not required here.)

**(c)** **Hanoi 3**: Finally consider the disappearing Tower of Hanoi puzzle where the largest
remaining disk will disappear if there is nothing on top of it. The goal here is to
get all the disks to disappear and be left with three empty pegs (in as few moves as
possible).

Provide an upper bound, as tight as possible, on the number of moves your algorithm
uses.

<br>

## Solution

### **(a)** 

Moving plates from peg1 to peg2 involves the following steps.

1. Move the top n-1 plates from peg1 to peg2 with the rule.
2. Move the last plate from peg1 to peg0.
3. Move n-1 plates from peg2 back to peg1.
4. Move the last plate from peg0 to peg1.
5. Move n-1 plates from peg1 to peg2.

T(n) = 3*T(n-1) + 2 -> T(n) + 1 = 3 * (T(n-1) + 1)

T(0) = 0, T(1) = 2

T(n) + 1 = (T(0) + 1) * 3 * ... * 3

= T(0) * 3^n

= 3^n

T(n) = 3^n - 1

### **(b)** 

Moving plates from peg1 to peg2 involves the following steps.

1. Move the top n-1 plates from peg1 to peg2 with the rule.
2. Move n-1 plates from peg2 to peg0.
3. Move the last plate from peg1 to peg2.
4. Move n-1 plates from peg0 to peg1.
5. Move n-1 plates from peg1 to peg2

T(n) = 4 * T(n-1) + 1

O(n) = 4^n

### **(c)** 

Making all plates disappear involves the following steps.

1. Move the top n-1 plates from peg1 to peg2.
2. The last plate would disappear.
3. Repeat the steps above until all plates disappear.

T(n) = S(n-1) + S(n-2) + ... + S(2) + S(1) 

S(n) is the time that move n plates from 1 peg to another peg, which is the normal Hanoi.

S(n) = 2 * S(n-1) + 1

S(n) + 1 = 2 * (S(n-1) + 1)

S(1) = 1

S(n) = 2^n - 1

T(n) = 2^1 - 1 + 2^2 - 1 + 2^(n-1) -1

= 2^n - 2 - n + 1

= 2^n - n - 1

Upper Bound O(n) = 2^n


 